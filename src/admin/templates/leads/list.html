{% extends "base.html" %}

{% block title %}–ó–∞—è–≤–∫–∏{% endblock %}
{% block page_title %}üìã –ó–∞—è–≤–∫–∏{% endblock %}

{% block content %}
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-label">–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</div>
        <div class="stat-value">{{ total }}</div>
    </div>
</div>

<!-- Filters -->
<div class="filters-bar">
    <select hx-get="/admin/leads"
            hx-target="#leads-table"
            hx-include="[name='search']"
            name="status">
        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
        {% for key, label in status_labels.items() %}
        <option value="{{ key }}" {% if status_filter == key %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
    </select>

    <input type="search"
           name="search"
           placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, –∞–≤—Ç–æ–º–æ–±–∏–ª—é..."
           value="{{ search }}"
           hx-get="/admin/leads"
           hx-target="#leads-table"
           hx-trigger="keyup changed delay:300ms"
           hx-include="[name='status']">
</div>

<!-- Table -->
<div id="leads-table">
    {% include "leads/partials/table.html" %}
</div>
{% endblock %}
